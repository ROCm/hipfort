<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIPFORT: hipfort_rocblas::rocblas_trsm_ex Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HIPFORT
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">Fortran Interface For GPU Kernel Libraries (based on ROCm 4.5.0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehipfort__rocblas.html">hipfort_rocblas</a></li><li class="navelem"><a class="el" href="interfacehipfort__rocblas_1_1rocblas__trsm__ex.html">rocblas_trsm_ex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfacehipfort__rocblas_1_1rocblas__trsm__ex-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hipfort_rocblas::rocblas_trsm_ex Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>! BLAS EX API  
 <a href="interfacehipfort__rocblas_1_1rocblas__trsm__ex.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a63decaeae5a2ae71b94af10dfcfd5bdd"><td class="memItemLeft" align="right" valign="top">integer(kind(rocblas_status_success)) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacehipfort__rocblas_1_1rocblas__trsm__ex.html#a63decaeae5a2ae71b94af10dfcfd5bdd">rocblas_trsm_ex_</a> (handle, side, uplo, transA, diag, m, n, alpha, A, lda, B, ldb, invA, invA_size, compute_type)</td></tr>
<tr class="separator:a63decaeae5a2ae71b94af10dfcfd5bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>! BLAS EX API </p>
<p>TRSM_EX solves </p><pre class="fragment">op(A)X = alphaB or Xop(A) = alphaB,
</pre><p>where alpha is a scalar, X and B are m by n matrices, A is triangular matrix and op(A) is one of </p><pre class="fragment">op( A ) = A   or   op( A ) = A^T   or   op( A ) = A^H.
</pre><p>The matrix X is overwritten on B.</p>
<p>TRSM_EX gives the user the ability to reuse the invA matrix between runs. If invA == NULL, <a class="el" href="interfacehipfort__rocblas_1_1rocblas__trsm__ex.html" title="! BLAS EX API ">rocblas_trsm_ex</a> will automatically calculate invA on every run.</p>
<p>Setting up invA: The accepted invA matrix consists of the packed 128x128 inverses of the diagonal blocks of matrix A, followed by any smaller diagonal block that remains. To set up invA it is recommended that rocblas_trtri_batched be used with matrix A as the input.</p>
<p>Device memory of size 128 x k should be allocated for invA ahead of time, where k is m when rocblas_side_left and is n when rocblas_side_right. The actual number of elements in invA should be passed as invA_size.</p>
<p>To begin, rocblas_trtri_batched must be called on the full 128x128 sized diagonal blocks of matrix A. Below are the restricted parameters:</p><ul>
<li>n = 128</li>
<li>ldinvA = 128</li>
<li>stride_invA = 128x128</li>
<li>batch_count = k 128,</li>
</ul>
<p>Then any remaining block may be added:</p><ul>
<li>n = k % 128</li>
<li>invA = invA + stride_invA previous_batch_count</li>
<li>ldinvA = 128</li>
<li>batch_count = 1</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>[rocblas_handle] handle to the rocblas library context queue.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">side</td><td>[rocblas_side] rocblas_side_left: op(A)X = alphaB. rocblas_side_right: Xop(A) = alphaB.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uplo</td><td>[rocblas_fill] rocblas_fill_upper: A is an upper triangular matrix. rocblas_fill_lower: A is a lower triangular matrix.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transA</td><td>[rocblas_operation] transB: op(A) = A. rocblas_operation_transpose: op(A) = A^T. rocblas_operation_conjugate_transpose: op(A) = A^H.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">diag</td><td>[rocblas_diagonal] rocblas_diagonal_unit: A is assumed to be unit triangular. rocblas_diagonal_non_unit: A is not assumed to be unit triangular.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>[rocblas_int] m specifies the number of rows of B. m &gt;= 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>[rocblas_int] n specifies the number of columns of B. n &gt;= 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alpha</td><td>[void ] device pointer or host pointer specifying the scalar alpha. When alpha is &amp;zero then A is not referenced, and B need not be set before entry.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">A</td><td>[void ] device pointer storing matrix A. of dimension ( lda, k ), where k is m when rocblas_side_left and is n when rocblas_side_right only the upperlower triangular part is accessed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lda</td><td>[rocblas_int] lda specifies the first dimension of A. if side = rocblas_side_left, lda &gt;= max( 1, m ), if side = rocblas_side_right, lda &gt;= max( 1, n ).</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">B</td><td>[void ] device pointer storing matrix B. B is of dimension ( ldb, n ). Before entry, the leading m by n part of the array B must contain the right-hand side matrix B, and on exit is overwritten by the solution matrix X.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ldb</td><td>[rocblas_int] ldb specifies the first dimension of B. ldb &gt;= max( 1, m ).</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">invA</td><td>[void ] device pointer storing the inverse diagonal blocks of A. invA is of dimension ( ld_invA, k ), where k is m when rocblas_side_left and is n when rocblas_side_right. ld_invA must be equal to 128.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">invA_size</td><td>[rocblas_int] invA_size specifies the number of elements of device memory in invA.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">compute_type</td><td>[rocblas_datatype] specifies the datatype of computation </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="a63decaeae5a2ae71b94af10dfcfd5bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63decaeae5a2ae71b94af10dfcfd5bdd">&#9670;&nbsp;</a></span>rocblas_trsm_ex_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer(kind(rocblas_status_success)) function hipfort_rocblas::rocblas_trsm_ex::rocblas_trsm_ex_ </td>
          <td>(</td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocblas_side_left)), value&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocblas_fill_upper)), value&#160;</td>
          <td class="paramname"><em>uplo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocblas_operation_none)), value&#160;</td>
          <td class="paramname"><em>transA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocblas_diagonal_non_unit)), value&#160;</td>
          <td class="paramname"><em>diag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>lda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>ldb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>invA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>invA_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocblas_datatype_f16_r)), value&#160;</td>
          <td class="paramname"><em>compute_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li><a class="el" href="hipfort__rocblas_8f03.html">hipfort_rocblas.f03</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
