<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIPFORT: hipfort_rocsparse::rocsparse_coo2csr Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HIPFORT
   &#160;<span id="projectnumber">0.5.0</span>
   </div>
   <div id="projectbrief">Fortran Interface For GPU Kernel Libraries (based on ROCm 5.0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehipfort__rocsparse.html">hipfort_rocsparse</a></li><li class="navelem"><a class="el" href="interfacehipfort__rocsparse_1_1rocsparse__coo2csr.html">rocsparse_coo2csr</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfacehipfort__rocsparse_1_1rocsparse__coo2csr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hipfort_rocsparse::rocsparse_coo2csr Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>!  
 <a href="interfacehipfort__rocsparse_1_1rocsparse__coo2csr.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed5aa8a8d3e533b7508475e93c887e3d"><td class="memItemLeft" align="right" valign="top">integer(kind(rocsparse_status_success)) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacehipfort__rocsparse_1_1rocsparse__coo2csr.html#aed5aa8a8d3e533b7508475e93c887e3d">rocsparse_coo2csr_rank_0</a> (handle, coo_row_ind, nnz, m, csr_row_ptr, idx_base)</td></tr>
<tr class="separator:aed5aa8a8d3e533b7508475e93c887e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a4b5094c1f7785ca6a2e757ccca313df7"><td class="memItemLeft" align="right" valign="top">integer(kind(rocsparse_status_success)) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacehipfort__rocsparse_1_1rocsparse__coo2csr.html#a4b5094c1f7785ca6a2e757ccca313df7">rocsparse_coo2csr_</a> (handle, coo_row_ind, nnz, m, csr_row_ptr, idx_base)</td></tr>
<tr class="separator:a4b5094c1f7785ca6a2e757ccca313df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9964564305185cf388edea23b30654aa"><td class="memItemLeft" align="right" valign="top">integer(kind(rocsparse_status_success)) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacehipfort__rocsparse_1_1rocsparse__coo2csr.html#a9964564305185cf388edea23b30654aa">rocsparse_coo2csr_rank_1</a> (handle, coo_row_ind, nnz, m, csr_row_ptr, idx_base)</td></tr>
<tr class="separator:a9964564305185cf388edea23b30654aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>! </p>
<p>Convert a sparse COO matrix into a sparse CSR matrix</p>
<pre class="fragment">\p rocsparse_coo2csr converts the COO array containing the row indices into a
CSR array of row offsets, that point to the start of every row.
It is assumed that the COO row index array is sorted.

\note It can also be used, to convert a COO array containing the column indices into
a CSC array of column offsets, that point to the start of every column. Then, it is
assumed that the COO column index array is sorted, instead.

\note
This function is non blocking and executed asynchronously with respect to the host.
It may return before the actual computation has finished.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>handle to the rocsparse library context queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">coo_row_ind</td><td>array of <code>nnz</code> elements containing the row indices of the sparse COO matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nnz</td><td>number of non-zero entries of the sparse CSR matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td>number of rows of the sparse CSR matrix. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">csr_row_ptr</td><td>array of <code>m+1</code> elements that point to the start of every row of the sparse CSR matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx_base</td><td>rocsparse_index_base_zero or rocsparse_index_base_one.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">rocsparse_status_success</td><td>the operation completed successfully. </td></tr>
    <tr><td class="paramname">rocsparse_status_invalid_handle</td><td>the library context was not initialized. </td></tr>
    <tr><td class="paramname">rocsparse_status_invalid_size</td><td><code>m</code> or <code>nnz</code> is invalid. </td></tr>
    <tr><td class="paramname">rocsparse_status_invalid_pointer</td><td><code>coo_row_ind</code> or <code>csr_row_ptr</code> pointer is invalid.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd>This example converts a COO matrix into a CSR matrix. <div class="fragment"><div class="line">     1 2 0 3 0</div><div class="line"> A = 0 4 5 0 0</div><div class="line">     6 0 0 7 8</div><div class="line"></div><div class="line">rocsparse_int m   = 3;</div><div class="line">rocsparse_int n   = 5;</div><div class="line">rocsparse_int nnz = 8;</div><div class="line"></div><div class="line">coo_row_ind[nnz] = {0, 0, 0, 1, 1, 2, 2, 2};  device memory</div><div class="line">coo_col_ind[nnz] = {0, 1, 3, 1, 2, 0, 3, 4};  device memory</div><div class="line">coo_val[nnz]     = {1, 2, 3, 4, 5, 6, 7, 8};  device memory</div><div class="line"></div><div class="line"> Allocate CSR matrix arrays</div><div class="line">rocsparse_int csr_row_ptr;</div><div class="line">rocsparse_int csr_col_ind;</div><div class="line"><span class="keywordtype">float</span> csr_val;</div><div class="line"></div><div class="line">hipMalloc((<span class="keywordtype">void</span>)&amp;csr_row_ptr, <span class="keyword">sizeof</span>(rocsparse_int)  (m + 1));</div><div class="line">hipMalloc((<span class="keywordtype">void</span>)&amp;csr_col_ind, <span class="keyword">sizeof</span>(rocsparse_int)  nnz);</div><div class="line">hipMalloc((<span class="keywordtype">void</span>)&amp;csr_val, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)  nnz);</div><div class="line"></div><div class="line"> Convert the coo row indices into csr row offsets</div><div class="line">rocsparse_coo2csr(handle,</div><div class="line">                  coo_row_ind,</div><div class="line">                  nnz,</div><div class="line">                  m,</div><div class="line">                  csr_row_ptr,</div><div class="line">                  rocsparse_index_base_zero);</div><div class="line"></div><div class="line"> Copy the column and value arrays</div><div class="line">hipMemcpy(csr_col_ind,</div><div class="line">          coo_col_ind,</div><div class="line">          <span class="keyword">sizeof</span>(rocsparse_int)  nnz,</div><div class="line">          hipMemcpyDeviceToDevice);</div><div class="line"></div><div class="line">hipMemcpy(csr_val,</div><div class="line">          coo_val,</div><div class="line">          <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)  nnz,</div><div class="line">          hipMemcpyDeviceToDevice);</div></div><!-- fragment --> </dd></dl>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="a4b5094c1f7785ca6a2e757ccca313df7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b5094c1f7785ca6a2e757ccca313df7">&#9670;&nbsp;</a></span>rocsparse_coo2csr_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer(kind(rocsparse_status_success)) function hipfort_rocsparse::rocsparse_coo2csr::rocsparse_coo2csr_ </td>
          <td>(</td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>coo_row_ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), value&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>csr_row_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocsparse_index_base_zero)), value&#160;</td>
          <td class="paramname"><em>idx_base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed5aa8a8d3e533b7508475e93c887e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed5aa8a8d3e533b7508475e93c887e3d">&#9670;&nbsp;</a></span>rocsparse_coo2csr_rank_0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer(kind(rocsparse_status_success)) function hipfort_rocsparse::rocsparse_coo2csr::rocsparse_coo2csr_rank_0 </td>
          <td>(</td>
          <td class="paramtype">type(c_ptr)&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), target&#160;</td>
          <td class="paramname"><em>coo_row_ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int)&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int)&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), target&#160;</td>
          <td class="paramname"><em>csr_row_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocsparse_index_base_zero))&#160;</td>
          <td class="paramname"><em>idx_base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9964564305185cf388edea23b30654aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9964564305185cf388edea23b30654aa">&#9670;&nbsp;</a></span>rocsparse_coo2csr_rank_1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer(kind(rocsparse_status_success)) function hipfort_rocsparse::rocsparse_coo2csr::rocsparse_coo2csr_rank_1 </td>
          <td>(</td>
          <td class="paramtype">type(c_ptr)&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), dimension(:), target&#160;</td>
          <td class="paramname"><em>coo_row_ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int)&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int)&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_int), dimension(:), target&#160;</td>
          <td class="paramname"><em>csr_row_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind(rocsparse_index_base_zero))&#160;</td>
          <td class="paramname"><em>idx_base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li><a class="el" href="hipfort__rocsparse_8f03.html">hipfort_rocsparse.f03</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
