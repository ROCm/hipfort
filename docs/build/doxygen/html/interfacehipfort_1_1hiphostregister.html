<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIPFORT: hipfort::hiphostregister Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HIPFORT
   &#160;<span id="projectnumber">0.3.0</span>
   </div>
   <div id="projectbrief">Fortran Interface For GPU Kernel Libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehipfort.html">hipfort</a></li><li class="navelem"><a class="el" href="interfacehipfort_1_1hiphostregister.html">hiphostregister</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfacehipfort_1_1hiphostregister-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hipfort::hiphostregister Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Register host memory so it can be accessed from the current device.  
 <a href="interfacehipfort_1_1hiphostregister.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aca26537a08d1bf4106353bd216369499"><td class="memItemLeft" align="right" valign="top">integer(kind(hipsuccess)) function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacehipfort_1_1hiphostregister.html#aca26537a08d1bf4106353bd216369499">hiphostregister_orig</a> (hostPtr, sizeBytes, flags)</td></tr>
<tr class="separator:aca26537a08d1bf4106353bd216369499"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Register host memory so it can be accessed from the current device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hostPtr</td><td>Pointer to host memory to be registered. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sizeBytes</td><td>size of the host memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags.</td><td>See below. <pre class="fragment">Flags:
- #hipHostRegisterDefault   Memory is Mapped and Portable
- #hipHostRegisterPortable  Memory is considered registered by all contexts.  HIP only supports
</pre> one context so this is always assumed true.<ul>
<li>#hipHostRegisterMapped Map the allocation into the address space for the current device. The device pointer can be obtained with #hipHostGetDevicePointer.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment">After registering the memory, use #hipHostGetDevicePointer to obtain the mapped device pointer.
On many systems, the mapped device pointer will have a different value than the mapped host
</pre><p> pointer. Applications must use the device pointer in device code, and the host pointer in device code.</p>
<p>On some systems, registered memory is pinned. On some systems, registered memory may not be actually be pinned but uses OS or hardware facilities to all GPU access to the host memory.</p>
<p>Developers are strongly encouraged to register memory blocks which are aligned to the host cache-line size. (typically 64-bytes but can be obtains from the CPUID instruction).</p>
<p>If registering non-aligned pointers, the application must take care when register pointers from the same cache line on different devices. HIP's coarse-grained synchronization model does not guarantee correct results if different devices write to different parts of the same cache block - typically one of the writes will "win" and overwrite data from the other registered memory region.</p>
<dl class="section return"><dt>Returns</dt><dd>#hipSuccess, #hipErrorOutOfMemory</dd></dl>
<dl class="section see"><dt>See also</dt><dd>hipHostUnregister, hipHostGetFlags, hipHostGetDevicePointer </dd></dl>
</div><h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="aca26537a08d1bf4106353bd216369499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca26537a08d1bf4106353bd216369499">&#9670;&nbsp;</a></span>hiphostregister_orig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer(kind(hipsuccess)) function hipfort::hiphostregister::hiphostregister_orig </td>
          <td>(</td>
          <td class="paramtype">type(c_ptr), value&#160;</td>
          <td class="paramname"><em>hostPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(c_size_t), value&#160;</td>
          <td class="paramname"><em>sizeBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(kind=4), value&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li><a class="el" href="hipfort_8f03.html">hipfort.f03</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
